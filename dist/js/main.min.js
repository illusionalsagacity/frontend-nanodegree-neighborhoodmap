!function(e){"use strict";function o(o,t){var a="https://api.flickr.com/services/rest/";e.ajax({data:{method:"flickr.photos.getInfo",api_key:"6b24b2e754fe7ea499e2db41d1daa866",format:"json",photo_id:o},dataType:"jsonp",jsonp:"jsoncallback",url:a,success:function(e){s(e,t)}})}function s(e,o){o.realname(e.photo.owner.realname),o.username(e.photo.owner.username),o.description(e.photo.description._content),c.photos.push(o)}function t(){e.ajax({data:{method:"flickr.photos.search",api_key:"6b24b2e754fe7ea499e2db41d1daa866",safe_search:1,content_type:1,woe_id:28288708,format:"json",per_page:20},dataType:"jsonp",jsonp:"jsoncallback",url:"https://api.flickr.com/services/rest/",success:i})}function a(){this.appName="Neighborhood Map",this.latitude=37.8083,this.longitude=-122.4156,this.searchTerm=ko.observable(),this.photos=ko.observableArray([]),this.locations=ko.observableArray([{name:"Harry's Diner",description:"A small diner!",address:"",lat:37.8083,lng:-122.4157}]),this.searchFor=function(o){var s=e("#search",o).val();console.log(s),alert(s)}}function r(e,o,s,t,a,r,i,n,c){this.farm=ko.observable(e),this.server=ko.observable(o),this.id=ko.observable(s),this.secret=ko.observable(t),this.size=ko.observable(a),this.fileext=ko.observable(r),this.realname=ko.observable(i),this.username=ko.observable(n),this.description=ko.observable(c),this.url=ko.computed(function(){return"https://farm"+this.farm()+".staticflickr.com/"+this.server()+"/"+this.id()+"_"+this.secret()+"_"+this.size()+"."+this.fileext()},this),this.imgHTML=ko.computed(function(){return'<img src="'+this.url()+'">'},this)}function i(s){e.each(s.photos.photo,function(e,s){var t=new r(s.farm,s.server,s.id,s.secret,"b","jpg");o(t.id(),t)})}function n(){{var e=new google.maps.LatLng(37.8083,-122.4156),o={center:e,draggable:!1,disableDefaultUI:!0,disableDoubleClickZoom:!0,scrollwheel:!1,panControl:!1,zoom:17,zoomControl:!1};new google.maps.Map(document.getElementById("map-canvas"),o)}}google.maps.event.addDomListener(window,"load",n);var c=new a;ko.applyBindings(c),t()}(jQuery);