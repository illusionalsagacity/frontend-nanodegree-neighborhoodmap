!function(e){"use strict";function o(o,t){var a="https://api.flickr.com/services/rest/";e.ajax({data:{method:"flickr.photos.getInfo",api_key:p,format:"json",photo_id:o},dataType:"jsonp",jsonp:"jsoncallback",url:a,success:function(e){s(e,t)}})}function s(e,o){o.realname(e.photo.owner.realname),o.username(e.photo.owner.username),o.description(e.photo.description._content),v.photos.push(o)}function t(o){e.each(o.response.groups[0].items,function(e,o){var s=new n(o.venue.name,o.tips[0].text,o.venue.location.lat,o.venue.location.lng,o.venue.rating);v.locations.push(s)})}function a(){e.ajax({data:{client_id:b,client_secret:u,ll:"37.8083,-122.4156",v:"20150717"},dataType:"jsonp",url:"https://api.foursquare.com/v2/venues/explore",success:t})}function r(){e.ajax({data:{method:"flickr.photos.search",api_key:p,safe_search:1,content_type:1,woe_id:28288708,format:"json",per_page:20},dataType:"jsonp",jsonp:"jsoncallback",url:"https://api.flickr.com/services/rest/",success:c,error:function(e,o,s){console.log(o)}})}function i(){this.appName="Neighborhood Map",this.latitude=37.8083,this.longitude=-122.4156,this.searchTerm=ko.observable(),this.photos=ko.observableArray([]),this.myLocations=ko.observableArray([]),this.locations=ko.observableArray([]),this.searchFor=function(o){var s=e("#search",o).val();console.log(s),alert(s)}}function n(e,o,s,t,a){this.name=ko.observable(e),this.description=ko.observable(o),this.lat=ko.observable(s),this.lng=ko.observable(t),this.rating=ko.observable(a)}function l(e,o,s,t,a,r,i,n,l){this.farm=ko.observable(e),this.server=ko.observable(o),this.id=ko.observable(s),this.secret=ko.observable(t),this.size=ko.observable(a),this.fileext=ko.observable(r),this.realname=ko.observable(i),this.username=ko.observable(n),this.description=ko.observable(l),this.url=ko.computed(function(){return"https://farm"+this.farm()+".staticflickr.com/"+this.server()+"/"+this.id()+"_"+this.secret()+"_"+this.size()+"."+this.fileext()},this)}function c(s){e.each(s.photos.photo,function(e,s){var t=new l(s.farm,s.server,s.id,s.secret,"b","jpg");o(t.id(),t)})}function h(){{var e=new google.maps.LatLng(37.8083,-122.4156),o={center:e,draggable:!1,disableDefaultUI:!0,disableDoubleClickZoom:!0,scrollwheel:!1,panControl:!1,zoom:17,zoomControl:!1};new google.maps.Map(document.getElementById("map-canvas"),o)}}var p="6b24b2e754fe7ea499e2db41d1daa866",b="012MYNBUF2VK2SQK5C40HT0ZBX1255ZJGCG4XKYNTZ33DKE1",u="ZLIFE0L5WIZ21LUARPYY3OFFWCUWUU3IVR42IEUUREGHBL3F";google.maps.event.addDomListener(window,"load",h);var v=new i;r(),a(),ko.applyBindings(v)}(jQuery);