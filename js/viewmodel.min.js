function ViewModel(){"use strict";var e=this;e.appName="Neighborhood Map",e.latitude=37.8083,e.longitude=-122.4156,e.searchTerm=ko.observable(),e.photos=ko.observableArray(),e.locations=ko.observableArray(),e.filteredLocations=ko.computed(function(){return e.searchTerm()?ko.utils.arrayFilter(e.locations(),function(o){return o.name().toLowerCase().indexOf(e.searchTerm().toLowerCase())>=0}):e.locations()}),e.filteredLocations.subscribe(function(o){e.createMarkers()}),e.errors=ko.observableArray();var o,n,a,t=new google.maps.LatLng(37.8083,-122.4156),i={center:t,draggable:!0,disableDefaultUI:!0,disableDoubleClickZoom:!0,scrollwheel:!1,panControl:!1,zoom:17,zoomControl:!1},r=[],s=new google.maps.Map(document.getElementById("map-canvas"),i);e.createMarkers=function(){r.forEach(function(e){e.setMap(null)}),r.length=0,ko.utils.arrayForEach(e.filteredLocations(),function(e){var t=new google.maps.Marker({position:new google.maps.LatLng(e.lat(),e.lng()),map:s,title:e.name(),icon:e.iconURL()}),i='<div id="content"><div id="siteNotice"><h1 id="firstHeading" class="firstHeading">'+e.name()+'</h1><div id="bodyContent"><p>'+e.description()+"</p><p>"+e.address()+"</p></div></div>",l=new google.maps.InfoWindow({content:i,maxWidth:400});google.maps.event.addListener(t,"click",function(){a&&a.close(),l.open(s,t),a=l,n&&n.setIcon(o),o=t.getIcon(),t.setIcon("img/pin66.png"),n=t}),r.push(t)})}}